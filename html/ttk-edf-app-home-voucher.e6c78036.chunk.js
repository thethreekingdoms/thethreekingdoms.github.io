webpackJsonp([20],{509:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a,r=l(n(0)),o=l(n(10)),i=l(n(7)),c=l(n(9)),u=l(n(11)),s=l(n(12)),p=n(1),f=(l(p),n(34)),d=l(n(191));function l(t){return t&&t.__esModule?t:{"default":t}}var m=(0,f.wrapper)(d["default"])(a=function(t){function e(){return(0,i["default"])(this,e),(0,u["default"])(this,(e.__proto__||(0,o["default"])(e)).apply(this,arguments))}return(0,s["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){return this.props.monkeyKing((0,r["default"])({},this.props,{path:"root"}))}}]),e}(p.Component))||a;e["default"]=m,t.exports=e["default"]},510:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(0)),i=p(n(84)),a=p(n(85)),c=p(n(7));e["default"]=function(t){var e=new o.action(t),n=new f((0,r["default"])({},t,{metaAction:e})),a=(0,r["default"])({},e,n);return e.config({metaHandlers:a}),a};p(n(1));var o=n(34),u=n(13),s=p(n(151));p(n(15)),p(n(6));function p(t){return t&&t.__esModule?t:{"default":t}}var f=function t(e){var n,o=this;(0,c["default"])(this,t),this.onInit=function(t){var e=t.component,n=t.injections;o.component=e,(o.injections=n).reduce("init"),o.load()},this.load=function(){o.component.props.data&&o.initData(o.component.props.periodList,o.component.props.data.certificateCount)},this.componentWillReceiveProps=function(t){(0,u.is)(t.periodList,o.component.props.periodList)&&(0,u.is)(t.data,o.component.props.data)||!t.data||o.initData(t.periodList,t.data.certificateCount)},this.initData=function(t,e){var n=t.map(function(t){return t.replace("年",".").replace("月","")}),a={periodList:n,certificateCount:e};o.metaAction.sf("data.period",n[0]),o.injections.reduce("load",a)},this.setField=(n=(0,a["default"])(i["default"].mark(function t(e,n){var a,r;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.metaAction.sf("data.period",n),a={year:n.split(".")[0],period:n.split(".")[1]},t.next=4,o.webapi.query(a);case 4:r=t.sent,o.metaAction.sf("data.certificateCount",r.certificateCount);case 6:case"end":return t.stop()}},t,o)})),function(t,e){return n.apply(this,arguments)}),this.openList=(0,a["default"])(i["default"].mark(function t(){var e;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=o.metaAction.gf("data.period"),o.component.props.setPortalContent&&o.component.props.setPortalContent("凭证管理","app-proof-of-list",{initSearchValue:{date_end:o.metaAction.stringToMoment(e.replace(".","-"),"YYYY-MM"),date_start:o.metaAction.stringToMoment(e.replace(".","-"),"YYYY-MM")}});case 2:case"end":return t.stop()}},t,o)})),this.openCharge=(0,a["default"])(i["default"].mark(function t(){return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.component.props.setPortalContent&&o.component.props.setPortalContent("填制凭证","app-proof-of-charge",{initData:{newCertificate:!0}});case 1:case"end":return t.stop()}},t,o)})),this.openBalancesum=(0,a["default"])(i["default"].mark(function t(){var e;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=o.metaAction.gf("data.period"),o.component.props.setPortalContent&&o.component.props.setPortalContent("余额表","app-balancesum-rpt",{initSearchValue:{date_end:o.metaAction.stringToMoment(e.replace(".","-"),"YYYY-MM"),date_start:o.metaAction.stringToMoment(e.replace(".","-"),"YYYY-MM")}});case 2:case"end":return t.stop()}},t,o)})),this.refresh=(0,a["default"])(i["default"].mark(function t(){var e,n,a;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.metaAction.gf("data.period"),n={year:e.split(".")[0],period:e.split(".")[1]},t.next=4,o.webapi.query(n);case 4:a=t.sent,o.metaAction.sf("data.certificateCount",a.certificateCount);case 6:case"end":return t.stop()}},t,o)})),this.metaAction=e.metaAction,this.config=s["default"].current,this.webapi=this.config.webapi};t.exports=e["default"]},511:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r,o=f(n(0)),i=f(n(7));e["default"]=function(t){var e=new u.reducer(t),n=new d((0,o["default"])({},t,{metaReducer:e}));return(0,o["default"])({},e,n)};var c=n(13),u=n(34),s=f(n(151)),p=n(192);function f(t){return t&&t.__esModule?t:{"default":t}}var d=(a=function t(e){(0,i["default"])(this,t),r.call(this),this.metaReducer=e.metaReducer,this.config=s["default"].current},r=function(){var a=this;this.init=function(t,e){var n=(0,p.getInitState)();return e&&(n.data=e),a.metaReducer.init(t,n)},this.load=function(t,e){return t=a.metaReducer.sf(t,"data.periodList",(0,c.fromJS)(e.periodList)),t=a.metaReducer.sf(t,"data.certificateCount",e.certificateCount)}},a);t.exports=e["default"]}});